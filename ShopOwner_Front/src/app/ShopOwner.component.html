
<div class="animated-background"></div>
<div class="particles">
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
</div>

<div class="container-wrapper">
  <div class="form-container">
    <div class="glass-card">
      <form #shopOwnerForm="ngForm" (ngSubmit)="register(shopOwnerForm)">
        <h4 class="form-title">Shop Owner Details</h4>

        <div class="form-group">
          <label for="name">Name</label>
          <input id="name" required #name="ngModel" ngModel name="name" type="text"
                 class="form-control" placeholder="Enter name">
          <div *ngIf="name.invalid && name.touched" class="error-message">
            <small>Name is required</small>
          </div>
        </div>

        <div class="form-group">
          <label for="shopName">Shop Name</label>
          <input id="shopName" required #shopName="ngModel" ngModel name="shopName" type="text"
                 class="form-control" placeholder="Enter shop name">
          <div *ngIf="shopName.invalid && shopName.touched" class="error-message">
            <small>Shop name is required</small>
          </div>
        </div>

        <div class="form-group">
          <label for="contactInfo">Contact Info</label>
          <input id="contactInfo" required #contactInfo="ngModel" ngModel name="contactInfo" type="text"
                 class="form-control" placeholder="Enter contact info">
          <div *ngIf="contactInfo.invalid && contactInfo.touched" class="error-message">
            <small>Contact info is required</small>
          </div>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn-primary" [disabled]="!shopOwnerForm.valid">
            <span class="btn-text">Add Shop Owner</span>
            <span class="btn-loader"></span>
          </button>
        </div>
      </form>
    </div>
  </div>

  <div class="table-section">
    <div class="table-container">
      <h4 class="table-title">Shop Owners List</h4>

      <div *ngIf="shopOwners.length === 0" class="empty-state">
        <div class="empty-icon">üè™</div>
        <p>No shop owners found</p>
        <small>Add your first shop owner using the form above</small>
      </div>

      <table *ngIf="shopOwners.length > 0" class="shop-table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Shop Name</th>
            <th>Contact Info</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let shopOwner of shopOwners" class="table-row">
            <td class="name-cell">{{ shopOwner.name }}</td>
            <td class="shop-cell">{{ shopOwner.shopName }}</td>
            <td class="contact-cell">{{ shopOwner.contactInfo }}</td>
            <td class="actions-cell">
              <button type="button" class="btn-edit" data-bs-toggle="modal" data-bs-target="#editModal" (click)="edit(shopOwner)">
                ‚úèÔ∏è Edit
              </button>
              <button type="button" class="btn-delete" (click)="deleteShopOwner(shopOwner)">
                üóëÔ∏è Delete
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content glass-card">
      <div class="modal-header">
        <h5 class="modal-title">Update Shop Owner</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form #updateForm="ngForm" (ngSubmit)="updateShopOwner()">
          <div class="form-group">
            <label for="editName">Name</label>
            <input id="editName" required #editName="ngModel" [(ngModel)]="shopOwnerToUpdate.name"
                   name="editName" type="text" class="form-control" placeholder="Enter name">
          </div>

          <div class="form-group">
            <label for="editShopName">Shop Name</label>
            <input id="editShopName" required #editShopName="ngModel" [(ngModel)]="shopOwnerToUpdate.shopName"
                   name="editShopName" type="text" class="form-control" placeholder="Enter shop name">
          </div>

          <div class="form-group">
            <label for="editContactInfo">Contact Info</label>
            <input id="editContactInfo" required #editContactInfo="ngModel" [(ngModel)]="shopOwnerToUpdate.contactInfo"
                   name="editContactInfo" type="text" class="form-control" placeholder="Enter contact info">
          </div>

          <div class="modal-actions">
            <button type="button" class="btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="submit" class="btn-primary" [disabled]="!updateForm.valid">
              Update Details
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>